<cbs-form-layout>
    <div class="slds-text-title--caps slds-m-bottom--medium">
        <strong>{{ 'DETAILS' | translate }}</strong>
    </div>

    <div class="cbs-loan-details-form__form">
        <form novalidate [formGroup]="form" class="slds-form--stacked" *ngIf="!isLoading">
            <cbs-form-readonly-control
                fieldLabel="{{ 'PROFILE' | translate }}"
                [value]="profileName"
                [disabled]="true">
            </cbs-form-readonly-control>

            <cbs-form-lookup-control
                formControlName="termDepositProductId"
                fieldLabel="{{ 'TERM_DEPOSIT_PRODUCT' | translate }}"
                searchPlaceholder="{{ 'SEARCH' | translate }}"
                selectPlaceholder="{{ 'SELECT' | translate }}"
                [hasError]="hasError('termDepositProductId')"
                [picklistDataUrl]="formConfigTermDepositProduct.termDepositProductLookupUrl"
                [requiredField]="true"
                (onSelect)="onTermDepositSelect($event)"
            ></cbs-form-lookup-control>

            <cbs-form-lookup-control
                formControlName="serviceOfficerId"
                fieldLabel="{{ 'TERM_DEPOSIT_OFFICER' | translate }}"
                [picklistFilterType]="'name'"
                searchPlaceholder="{{ 'SEARCH' | translate }}"
                selectPlaceholder="{{ 'SELECT' | translate }}"
                [hasError]="hasError('serviceOfficerId')"
                [picklistDataUrl]="formConfigTermDepositOfficer.termDepositOfficerLookupUrl"
                [requiredField]="true"
            ></cbs-form-lookup-control>

            <cbs-form-date-control
                formControlName="createdDate"
                fieldLabel="{{ 'CREATED_AT' | translate }}"
                [hasError]="hasError('createdDate')"
                [requiredField]="true">
            </cbs-form-date-control>

            <cbs-form-input-control
                formControlName="interestRate"
                fieldLabel="{{ 'INTEREST_RATE' | translate }}"
                [inputType]="'number'"
                [requiredField]="true"
                [hasError]="hasError('interestRate')">
                <div class="cbs-loan-details-form__range" *ngIf="interestRateRange.length">
                    Min: <span>{{ interestRateRange[0] }}</span> Max: <span>{{ interestRateRange[1] }}</span>
                </div>
            </cbs-form-input-control>

            <cbs-form-input-control
                formControlName="termAgreement"
                fieldLabel="{{ 'DURATION_MONTH' | translate }}"
                [inputType]="'number'"
                [requiredField]="true"
                [hasError]="hasError('termAgreement')">
                <div class="cbs-loan-details-form__range" *ngIf="termAgreementRange.length">
                    Min: <span>{{ termAgreementRange[0] }}</span> Max: <span>{{ termAgreementRange[1] }}</span>
                </div>
            </cbs-form-input-control>
            <cbs-form-input-control
                formControlName="earlyCloseFeeRate"
                fieldLabel="{{ 'EARLY_CLOSE_FEE_RATE' | translate }}"
                [inputType]="'number'"
                [requiredField]="true"
                [hasError]="hasError('earlyCloseFeeRate')">
                <div class="cbs-loan-details-form__range" *ngIf="earlyCloseFeeRateRange.length">
                    Min: <span>{{ earlyCloseFeeRateRange[0] }}</span> Max: <span>{{ earlyCloseFeeRateRange[1] }}</span>
                </div>
            </cbs-form-input-control>
            <cbs-form-input-control
                formControlName="earlyCloseFeeFlat"
                fieldLabel="{{ 'EARLY_CLOSE_FEE_FLAT' | translate }}"
                [inputType]="'number'"
                [requiredField]="true"
                [hasError]="hasError('earlyCloseFeeFlat')">
                <div class="cbs-loan-details-form__range" *ngIf="earlyCloseFeeFlatRange.length">
                    Min: <span>{{ earlyCloseFeeFlatRange[0] }}</span> Max: <span>{{ earlyCloseFeeFlatRange[1] }}</span>
                </div>
            </cbs-form-input-control>

        </form>
    </div>

</cbs-form-layout>
